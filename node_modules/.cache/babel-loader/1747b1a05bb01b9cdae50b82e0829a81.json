{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _reactDndHtml5Backend2 = _interopRequireDefault(_reactDndHtml5Backend);\n\nvar _reactDnd = require('react-dnd');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * Shuffles the passed array and returns a new one\n *\n * @param  {Array} a\n * @return {Array}\n */\n\n\nfunction shuffle(a) {\n  var b = a.slice();\n\n  for (var i = b.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var _ref = [b[j], b[i]];\n    b[i] = _ref[0];\n    b[j] = _ref[1];\n  }\n\n  return b;\n}\n\nvar Puzzle = function (_React$Component) {\n  _inherits(Puzzle, _React$Component);\n\n  function Puzzle(props) {\n    _classCallCheck(this, Puzzle);\n\n    var _this = _possibleConstructorReturn(this, (Puzzle.__proto__ || Object.getPrototypeOf(Puzzle)).call(this, props));\n\n    var level = props.level;\n    var cells = level * level;\n    _this.state = {\n      positions: [].concat(_toConsumableArray(Array(cells).keys()))\n    };\n    return _this;\n  }\n\n  _createClass(Puzzle, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var positions = this.state.positions;\n      this.setState({\n        positions: shuffle(positions)\n      });\n    }\n  }, {\n    key: 'onSwap',\n    value: function onSwap(sourcePosition, dropPosition) {\n      var oldPositions = this.state.positions.slice();\n      var newPositions = [];\n      var done = true;\n      var p = 0;\n\n      for (var i in oldPositions) {\n        var value = oldPositions[i];\n        var newValue = value;\n\n        if (value === sourcePosition) {\n          newValue = dropPosition;\n        } else if (value === dropPosition) {\n          newValue = sourcePosition;\n        }\n\n        newPositions.push(newValue);\n\n        if (newValue !== p) {\n          done = false;\n        }\n\n        p = p + 1;\n      }\n\n      this.setState({\n        positions: newPositions\n      });\n\n      if (done) {\n        this.props.onDone();\n      }\n    }\n  }, {\n    key: 'renderSquares',\n    value: function renderSquares() {\n      var _this2 = this;\n\n      var _props = this.props,\n          image = _props.image,\n          size = _props.size,\n          level = _props.level;\n      var positions = this.state.positions;\n      var squares = positions.map(function (i) {\n        return _react2.default.createElement(_Cell2.default, {\n          key: i,\n          size: size,\n          image: image,\n          level: level,\n          position: i,\n          onSwap: _this2.onSwap.bind(_this2)\n        });\n      });\n      return squares;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var size = this.props.size;\n      return _react2.default.createElement('div', {\n        style: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          padding: 0,\n          width: size + 'px',\n          height: size + 'px'\n        }\n      }, this.renderSquares());\n    }\n  }]);\n\n  return Puzzle;\n}(_react2.default.Component);\n\n;\nPuzzle.propTypes = {\n  image: _propTypes2.default.string.isRequired,\n  size: _propTypes2.default.number,\n  level: _propTypes2.default.number,\n  onDone: _propTypes2.default.func\n};\nPuzzle.defaultProps = {\n  size: 300,\n  level: 3,\n  onDone: function onDone() {}\n};\nexports.default = (0, _reactDnd.DragDropContext)(_reactDndHtml5Backend2.default)(Puzzle);","map":{"version":3,"sources":["/mnt/c/Users/annai/dev/flatiron/labs/Projects/Art_Catching/FrontendArtCatching/node_modules/react-image-puzzle/build/components/Puzzle.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_Cell","_Cell2","_reactDndHtml5Backend","_reactDndHtml5Backend2","_reactDnd","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","shuffle","a","b","slice","j","Math","floor","random","_ref","Puzzle","_React$Component","_this","getPrototypeOf","level","cells","state","positions","concat","keys","componentDidMount","setState","onSwap","sourcePosition","dropPosition","oldPositions","newPositions","done","p","newValue","push","onDone","renderSquares","_this2","_props","image","size","squares","map","createElement","position","bind","render","style","display","flexWrap","padding","width","height","Component","propTypes","string","isRequired","number","func","defaultProps","DragDropContext"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _reactDndHtml5Backend2 = _interopRequireDefault(_reactDndHtml5Backend);\n\nvar _reactDnd = require('react-dnd');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Shuffles the passed array and returns a new one\n *\n * @param  {Array} a\n * @return {Array}\n */\nfunction shuffle(a) {\n  var b = a.slice();\n\n  for (var i = b.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var _ref = [b[j], b[i]];\n    b[i] = _ref[0];\n    b[j] = _ref[1];\n  }\n\n  return b;\n}\n\nvar Puzzle = function (_React$Component) {\n  _inherits(Puzzle, _React$Component);\n\n  function Puzzle(props) {\n    _classCallCheck(this, Puzzle);\n\n    var _this = _possibleConstructorReturn(this, (Puzzle.__proto__ || Object.getPrototypeOf(Puzzle)).call(this, props));\n\n    var level = props.level;\n\n    var cells = level * level;\n\n    _this.state = { positions: [].concat(_toConsumableArray(Array(cells).keys())) };\n    return _this;\n  }\n\n  _createClass(Puzzle, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var positions = this.state.positions;\n\n\n      this.setState({ positions: shuffle(positions) });\n    }\n  }, {\n    key: 'onSwap',\n    value: function onSwap(sourcePosition, dropPosition) {\n      var oldPositions = this.state.positions.slice();\n      var newPositions = [];\n      var done = true;\n      var p = 0;\n\n      for (var i in oldPositions) {\n        var value = oldPositions[i];\n        var newValue = value;\n\n        if (value === sourcePosition) {\n          newValue = dropPosition;\n        } else if (value === dropPosition) {\n          newValue = sourcePosition;\n        }\n\n        newPositions.push(newValue);\n\n        if (newValue !== p) {\n          done = false;\n        }\n\n        p = p + 1;\n      }\n\n      this.setState({ positions: newPositions });\n\n      if (done) {\n        this.props.onDone();\n      }\n    }\n  }, {\n    key: 'renderSquares',\n    value: function renderSquares() {\n      var _this2 = this;\n\n      var _props = this.props,\n          image = _props.image,\n          size = _props.size,\n          level = _props.level;\n      var positions = this.state.positions;\n\n\n      var squares = positions.map(function (i) {\n        return _react2.default.createElement(_Cell2.default, {\n          key: i,\n          size: size,\n          image: image,\n          level: level,\n          position: i,\n          onSwap: _this2.onSwap.bind(_this2)\n        });\n      });\n\n      return squares;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var size = this.props.size;\n\n\n      return _react2.default.createElement(\n        'div',\n        {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            padding: 0,\n            width: size + 'px',\n            height: size + 'px'\n          } },\n        this.renderSquares()\n      );\n    }\n  }]);\n\n  return Puzzle;\n}(_react2.default.Component);\n\n;\n\nPuzzle.propTypes = {\n  image: _propTypes2.default.string.isRequired,\n  size: _propTypes2.default.number,\n  level: _propTypes2.default.number,\n  onDone: _propTypes2.default.func\n};\n\nPuzzle.defaultProps = {\n  size: 300,\n  level: 3,\n  onDone: function onDone() {}\n};\n\nexports.default = (0, _reactDnd.DragDropContext)(_reactDndHtml5Backend2.default)(Puzzle);"]},"metadata":{},"sourceType":"script"}